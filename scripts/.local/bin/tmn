#!/bin/bash
# Create new tmuxinator project template

if [ -z "$1" ]; then
  echo "Usage: tmn <project-name> [project-path]"
  echo "Example: tmn yoto-space-api ~/Dev/yoto-space-api"
  exit 1
fi

project_name="$1"
project_path="${2:-$HOME/Dev/$project_name}"

template_file="$HOME/dotfiles/tmuxinator/.config/tmuxinator/${project_name}.yml"

if [ -f "$template_file" ]; then
  echo "Error: Project template already exists at $template_file"
  exit 1
fi

cat > "$template_file" <<EOF
name: ${project_name}
root: ${project_path}

windows:
  - editor:
      panes:
        - nvim
  - opencode:
      panes:
        - opencode
  - terminal:
      panes:
        - # empty, just a shell
EOF

echo "âœ… Created project template: $template_file"
echo "ðŸš€ Start it with: tm $project_name"
